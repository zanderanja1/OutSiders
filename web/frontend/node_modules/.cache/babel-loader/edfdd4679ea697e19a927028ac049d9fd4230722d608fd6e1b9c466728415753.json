{"ast":null,"code":"var _jsxFileName = \"/Users/zanderanja/Desktop/OutSiders/frontend/src/components/Attractions.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Attractions() {\n  _s();\n  const [attractions, setAttractions] = useState([]);\n  useEffect(() => {\n    const getAttractions = async () => {\n      try {\n        const res = await fetch('http://localhost:3001/attraction');\n        const data = await res.json();\n        const districtIds = [...new Set(data.map(attraction => attraction.districtId))];\n        const districtPromises = districtIds.map(async districtId => {\n          const res = await fetch('http://localhost:3001/district/' + districtId);\n          return res.json();\n        });\n        const districtResponses = await Promise.all(districtPromises);\n        const districts = districtResponses.reduce((acc, response) => [...acc, ...response], []);\n        const cityIds = [...new Set(districts.map(district => district.cityId))];\n        const cityPromises = cityIds.map(async cityId => {\n          const res = await fetch('http://localhost:3001/city/' + cityId);\n          return res.json();\n        });\n        const cityResponses = await Promise.all(cityPromises);\n        const cities = cityResponses.reduce((acc, response) => [...acc, ...response], []);\n        const combinedData = data.map(attraction => {\n          const district = districts.find(district => district._id === attraction.districtId);\n          const city = cities.find(city => city._id === district.cityId);\n          return {\n            ...attraction,\n            district,\n            city\n          };\n        });\n        setAttractions(combinedData);\n      } catch (error) {\n        console.error('Error fetching attractions:', error);\n      }\n    };\n    getAttractions();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Attractions:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), attractions.map((attraction, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [attraction.name, \", \", attraction.district.name, \", \", attraction.city.name, \": \", attraction.coordinates[0], \",\", ' ', attraction.coordinates[1]]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this)\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(Attractions, \"Wfkc85x8ifE1kt57u76KKjzjzL4=\");\n_c = Attractions;\nexport default Attractions;\nvar _c;\n$RefreshReg$(_c, \"Attractions\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsxDEV","_jsxDEV","Attractions","_s","attractions","setAttractions","getAttractions","res","fetch","data","json","districtIds","Set","map","attraction","districtId","districtPromises","districtResponses","Promise","all","districts","reduce","acc","response","cityIds","district","cityId","cityPromises","cityResponses","cities","combinedData","find","_id","city","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","index","name","coordinates","_c","$RefreshReg$"],"sources":["/Users/zanderanja/Desktop/OutSiders/frontend/src/components/Attractions.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction Attractions() {\r\n  const [attractions, setAttractions] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const getAttractions = async () => {\r\n      try {\r\n        const res = await fetch('http://localhost:3001/attraction');\r\n        const data = await res.json();\r\n\r\n        const districtIds = [...new Set(data.map((attraction) => attraction.districtId))];\r\n        const districtPromises = districtIds.map(async (districtId) => {\r\n          const res = await fetch('http://localhost:3001/district/' + districtId);\r\n          return res.json();\r\n        });\r\n        const districtResponses = await Promise.all(districtPromises);\r\n        const districts = districtResponses.reduce((acc, response) => [...acc, ...response], []);\r\n\r\n        const cityIds = [...new Set(districts.map((district) => district.cityId))];\r\n        const cityPromises = cityIds.map(async (cityId) => {\r\n          const res = await fetch('http://localhost:3001/city/' + cityId);\r\n          return res.json();\r\n        });\r\n        const cityResponses = await Promise.all(cityPromises);\r\n        const cities = cityResponses.reduce((acc, response) => [...acc, ...response], []);\r\n\r\n        const combinedData = data.map((attraction) => {\r\n          const district = districts.find((district) => district._id === attraction.districtId);\r\n          const city = cities.find((city) => city._id === district.cityId);\r\n          return { ...attraction, district, city };\r\n        });\r\n\r\n        setAttractions(combinedData);\r\n      } catch (error) {\r\n        console.error('Error fetching attractions:', error);\r\n      }\r\n    };\r\n\r\n    getAttractions();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <h3>Attractions:</h3>\r\n      {attractions.map((attraction, index) => (\r\n        <div key={index}>\r\n          <p>\r\n            {attraction.name}, {attraction.district.name}, {attraction.city.name}: {attraction.coordinates[0]},{' '}\r\n            {attraction.coordinates[1]}\r\n          </p>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Attractions;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}