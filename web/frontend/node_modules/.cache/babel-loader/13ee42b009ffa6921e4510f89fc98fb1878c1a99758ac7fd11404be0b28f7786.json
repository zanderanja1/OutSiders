{"ast":null,"code":"var _jsxFileName = \"/Users/zanderanja/Desktop/OutSiders/frontend/src/components/Graphs.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Bar } from 'react-chartjs-2';\nimport { Chart } from 'chart.js/auto'; // Import the Chart.js library\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [attractions, setAttractions] = useState([]);\n  const [chart, setChart] = useState(null);\n  useEffect(() => {\n    fetchAttractionData();\n  }, []);\n  async function fetchAttractionData() {\n    try {\n      const [regions, cities, districts, attractions] = await Promise.all([fetch('http://localhost:3001/region/').then(res => res.json()), fetch('http://localhost:3001/city/').then(res => res.json()), fetch('http://localhost:3001/district/').then(res => res.json()), fetch('http://localhost:3001/attraction/list').then(res => res.json())]);\n      console.log(regions);\n      console.log(cities);\n      console.log(districts);\n      console.log(attractions);\n      setAttractions(attractions);\n    } catch (error) {\n      console.error('Error fetching attraction data:', error);\n    }\n  }\n  useEffect(() => {\n    if (attractions.length > 0) {\n      destroyChart();\n      const newChart = createGraph(attractions);\n      setChart(newChart);\n    }\n  }, [attractions]);\n  function createGraph(attractions) {\n    const regionCount = attractions.reduce((count, attraction) => {\n      const region = attraction.district.city.region.name;\n      count[region] = (count[region] || 0) + 1;\n      return count;\n    }, {});\n    const labels = Object.keys(regionCount);\n    const counts = Object.values(regionCount);\n    const chartData = {\n      labels,\n      datasets: [{\n        label: 'Attractions by Region',\n        data: counts,\n        backgroundColor: 'rgba(75, 192, 192, 0.6)',\n        borderColor: 'rgba(75, 192, 192, 1)',\n        borderWidth: 1\n      }]\n    };\n    const chartOptions = {\n      scales: {\n        x: {\n          type: 'category',\n          beginAtZero: true,\n          maxBarThickness: 50,\n          grid: {\n            display: false\n          }\n        },\n        y: {\n          beginAtZero: true,\n          grid: {\n            color: 'rgba(0, 0, 0, 0.1)',\n            drawBorder: false,\n            zeroLineColor: 'rgba(0, 0, 0, 0.1)'\n          }\n        }\n      }\n    };\n    const newChart = new Chart('chartCanvas', {\n      type: 'bar',\n      data: chartData,\n      options: chartOptions\n    });\n    return newChart;\n  }\n  function destroyChart() {\n    if (chart) {\n      chart.destroy();\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"My App\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Attractions by Region\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        id: \"chartCanvas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"MWdiEaiwgJ4BwA6okLXP2fez51s=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","Bar","Chart","jsxDEV","_jsxDEV","App","_s","attractions","setAttractions","chart","setChart","fetchAttractionData","regions","cities","districts","Promise","all","fetch","then","res","json","console","log","error","length","destroyChart","newChart","createGraph","regionCount","reduce","count","attraction","region","district","city","name","labels","Object","keys","counts","values","chartData","datasets","label","data","backgroundColor","borderColor","borderWidth","chartOptions","scales","x","type","beginAtZero","maxBarThickness","grid","display","y","color","drawBorder","zeroLineColor","options","destroy","children","fileName","_jsxFileName","lineNumber","columnNumber","id","_c","$RefreshReg$"],"sources":["/Users/zanderanja/Desktop/OutSiders/frontend/src/components/Graphs.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport { Chart } from 'chart.js/auto'; // Import the Chart.js library\r\n\r\nfunction App() {\r\n  const [attractions, setAttractions] = useState([]);\r\n  const [chart, setChart] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchAttractionData();\r\n  }, []);\r\n\r\n  async function fetchAttractionData() {\r\n    try {\r\n      const [regions, cities, districts, attractions] = await Promise.all([\r\n        fetch('http://localhost:3001/region/').then((res) => res.json()),\r\n        fetch('http://localhost:3001/city/').then((res) => res.json()),\r\n        fetch('http://localhost:3001/district/').then((res) => res.json()),\r\n        fetch('http://localhost:3001/attraction/list').then((res) => res.json())\r\n      ]);\r\n\r\n      console.log(regions);\r\n      console.log(cities);\r\n      console.log(districts);\r\n      console.log(attractions);\r\n\r\n      setAttractions(attractions);\r\n    } catch (error) {\r\n      console.error('Error fetching attraction data:', error);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (attractions.length > 0) {\r\n      destroyChart();\r\n\r\n      const newChart = createGraph(attractions);\r\n      setChart(newChart);\r\n    }\r\n  }, [attractions]);\r\n\r\n  function createGraph(attractions) {\r\n    const regionCount = attractions.reduce((count, attraction) => {\r\n      const region = attraction.district.city.region.name;\r\n      count[region] = (count[region] || 0) + 1;\r\n      return count;\r\n    }, {});\r\n\r\n    const labels = Object.keys(regionCount);\r\n    const counts = Object.values(regionCount);\r\n\r\n    const chartData = {\r\n      labels,\r\n      datasets: [\r\n        {\r\n          label: 'Attractions by Region',\r\n          data: counts,\r\n          backgroundColor: 'rgba(75, 192, 192, 0.6)',\r\n          borderColor: 'rgba(75, 192, 192, 1)',\r\n          borderWidth: 1,\r\n        },\r\n      ],\r\n    };\r\n\r\n    const chartOptions = {\r\n      scales: {\r\n        x: {\r\n          type: 'category',\r\n          beginAtZero: true,\r\n          maxBarThickness: 50,\r\n          grid: {\r\n            display: false,\r\n          },\r\n        },\r\n        y: {\r\n          beginAtZero: true,\r\n          grid: {\r\n            color: 'rgba(0, 0, 0, 0.1)',\r\n            drawBorder: false,\r\n            zeroLineColor: 'rgba(0, 0, 0, 0.1)',\r\n          },\r\n        },\r\n      },\r\n    };\r\n\r\n    const newChart = new Chart('chartCanvas', {\r\n      type: 'bar',\r\n      data: chartData,\r\n      options: chartOptions,\r\n    });\r\n\r\n    return newChart;\r\n  }\r\n\r\n  function destroyChart() {\r\n    if (chart) {\r\n      chart.destroy();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>My App</h1>\r\n      <div>\r\n        <h2>Attractions by Region</h2>\r\n        <canvas id=\"chartCanvas\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}